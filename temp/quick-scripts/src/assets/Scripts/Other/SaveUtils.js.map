{"version":3,"sources":["assets\\Scripts\\Other\\SaveUtils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Global from \"../AD/Global\";\r\nimport { DEFAULT_CJ } from \"../Main/condition\";\r\nimport { SaveData } from \"./GlobalDefine\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SaveUtils {\r\n    /**\r\n     * @zd 用户数据存储\r\n     */\r\n\r\n    //单例\r\n    static readonly inst: SaveUtils = new SaveUtils();\r\n\r\n    //读取本地数据\r\n    getLocalData() {\r\n        //SaveUtils.clear()\r\n        let userData = cc.sys.localStorage.getItem('GreenHat_userData');\r\n        //用户数据不为空\r\n        if (userData != null && userData != \"\" && userData != \"undefined\") {\r\n            Global.isNewUser = false;\r\n            userData = JSON.parse(userData);\r\n\r\n            //SaveData.ReOpenNum=userData.ReOpenNum!=null?userData.ReOpenNum:0\r\n            SaveData.LunHuiTalent = userData.LunHuiTalent != null ? userData.LunHuiTalent : 0\r\n            SaveData.isAuto = userData.isAuto != null ? userData.isAuto : false\r\n            SaveData.isAuto2 = userData.isAuto2 != null ? userData.isAuto2 : false\r\n            SaveData.isAutoAD2 = userData.isAutoAD2 != null ? userData.isAutoAD2 : false\r\n            SaveData.isAutoAD = userData.isAutoAD != null ? userData.isAutoAD : false\r\n            SaveData.isBGMOpen = userData.isBGMOpen != null ? userData.isBGMOpen : true\r\n            SaveData.isPPDY = userData.isPPDY != null ? userData.isPPDY : false\r\n            SaveData.isPPDY2 = userData.isPPDY2 != null ? userData.isPPDY2 : true\r\n            SaveData.LastTime = userData.LastTime != null ? userData.LastTime : 0\r\n\r\n\r\n            DEFAULT_CJ.TMS = userData.TMS != null ? userData.TMS : 0\r\n            DEFAULT_CJ.HAGE = userData.HAGE != null ? userData.HAGE : 0\r\n            DEFAULT_CJ.SUM = userData.SUM != null ? userData.SUM : 0\r\n            DEFAULT_CJ.HCHR = userData.HCHR != null ? userData.HCHR : 0\r\n            DEFAULT_CJ.HINT = userData.HINT != null ? userData.HINT : 0\r\n            DEFAULT_CJ.HSTR = userData.HSTR != null ? userData.HSTR : 0\r\n            DEFAULT_CJ.HMNY = userData.HMNY != null ? userData.HMNY : 0\r\n            DEFAULT_CJ.HSPR = userData.HSPR != null ? userData.HSPR : 0\r\n            DEFAULT_CJ.LCHR = userData.LCHR != null ? userData.LCHR : 0\r\n            DEFAULT_CJ.LINT = userData.LINT != null ? userData.LINT : 0\r\n            DEFAULT_CJ.LSTR = userData.LSTR != null ? userData.LSTR : 0\r\n            DEFAULT_CJ.LMNY = userData.LMNY != null ? userData.LMNY : 0\r\n            DEFAULT_CJ.LSPR = userData.LSPR != null ? userData.LSPR : 0\r\n            DEFAULT_CJ.AEVT = userData.AEVT != null ? userData.AEVT : []\r\n            DEFAULT_CJ.ATLT = userData.ATLT != null ? userData.ATLT : []\r\n            DEFAULT_CJ.ACJ = userData.ACJ != null ? userData.ACJ : []\r\n\r\n            SaveData.Myzz = userData.Myzz != null ? userData.Myzz : [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n\r\n        }\r\n        else {\r\n            Global.isNewUser = true;\r\n            this.createNewUser();\r\n        }\r\n    }\r\n\r\n    //创建新用户\r\n    createNewUser() {\r\n        console.log(\"创建新用户\")\r\n        //SaveData.ReOpenNum=0\r\n        SaveData.LunHuiTalent = 0\r\n        SaveData.isAuto = false\r\n        SaveData.isAuto2 = false\r\n        SaveData.isAutoAD = false\r\n        SaveData.isAutoAD2 = false\r\n        SaveData.isBGMOpen = true\r\n        SaveData.isPPDY = false\r\n        SaveData.isPPDY2 = true\r\n        SaveData.LastTime = 0\r\n\r\n\r\n        DEFAULT_CJ.TMS = 0\r\n        DEFAULT_CJ.HAGE = 0\r\n        DEFAULT_CJ.SUM = 0\r\n        DEFAULT_CJ.HCHR = 0\r\n        DEFAULT_CJ.HINT = 0\r\n        DEFAULT_CJ.HSTR = 0\r\n        DEFAULT_CJ.HMNY = 0\r\n        DEFAULT_CJ.HSPR = 0\r\n        DEFAULT_CJ.LCHR = 0\r\n        DEFAULT_CJ.LINT = 0\r\n        DEFAULT_CJ.LSTR = 0\r\n        DEFAULT_CJ.LMNY = 0\r\n        DEFAULT_CJ.LSPR = 0\r\n        DEFAULT_CJ.AEVT = []\r\n        DEFAULT_CJ.ATLT = []\r\n        DEFAULT_CJ.ACJ = []\r\n\r\n        SaveData.Myzz = []\r\n\r\n\r\n        this.SaveData();\r\n    }\r\n\r\n    //保存游戏数据\r\n    SaveData() {\r\n        let userData: { [k: string]: any } = {};\r\n        //userData.ReOpenNum=SaveData.ReOpenNum\r\n        userData.LunHuiTalent = SaveData.LunHuiTalent\r\n        userData.isAuto = SaveData.isAuto\r\n        userData.isAuto2 = SaveData.isAuto2\r\n        userData.isAutoAD = SaveData.isAutoAD\r\n        userData.isAutoAD2 = SaveData.isAutoAD2\r\n        userData.isBGMOpen = SaveData.isBGMOpen\r\n        userData.isPPDY = SaveData.isPPDY\r\n        userData.isPPDY2 = SaveData.isPPDY2\r\n        userData.LastTime = SaveData.LastTime\r\n\r\n        userData.TMS = DEFAULT_CJ.TMS\r\n        userData.HAGE = DEFAULT_CJ.HAGE\r\n        userData.SUM = DEFAULT_CJ.SUM\r\n        userData.HCHR = DEFAULT_CJ.HCHR\r\n        userData.HINT = DEFAULT_CJ.HINT\r\n        userData.HSTR = DEFAULT_CJ.HSTR\r\n        userData.HMNY = DEFAULT_CJ.HMNY\r\n        userData.HSPR = DEFAULT_CJ.HSPR\r\n        userData.LCHR = DEFAULT_CJ.LCHR\r\n        userData.LINT = DEFAULT_CJ.LINT\r\n        userData.LSTR = DEFAULT_CJ.LSTR\r\n        userData.LMNY = DEFAULT_CJ.LMNY\r\n        userData.LSPR = DEFAULT_CJ.LSPR\r\n        userData.AEVT = DEFAULT_CJ.AEVT\r\n        userData.ATLT = DEFAULT_CJ.ATLT\r\n        userData.ACJ = DEFAULT_CJ.ACJ\r\n\r\n        userData.Myzz = SaveData.Myzz\r\n\r\n        cc.sys.localStorage.setItem('GreenHat_userData', JSON.stringify(userData));\r\n\r\n    }\r\n    /**@name: 清除某一条数据 */\r\n    static remove(key) {\r\n        cc.sys.localStorage.removeItem(key);\r\n    }\r\n    /**@name: 清除所有数据 */\r\n    static clear() {\r\n        cc.sys.localStorage.clear();\r\n    }\r\n}\r\n"]}