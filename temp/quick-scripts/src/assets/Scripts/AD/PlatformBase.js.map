{"version":3,"sources":["assets\\Scripts\\AD\\PlatformBase.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["\r\n/**\r\n * 广告接口类\r\n */\r\nexport interface IBannerAd {\r\n  show: Function\r\n  hide: Function\r\n  offResize: Function\r\n  style: object\r\n  onLoad: Function\r\n  offLoad: Function\r\n  offClose: Function\r\n  onError: Function\r\n  offError: Function\r\n  onResize: Function\r\n  destroy: Function\r\n\r\n  /**\r\n   * 手动关闭广告\r\n   */\r\n  onHide: Function\r\n  onClose: Function\r\n}\r\n\r\nexport interface IRewardVideoAd {\r\n  load: Function\r\n  show: Function\r\n  hide: Function\r\n  offResize: Function\r\n  style: object\r\n  onLoad: Function\r\n  offLoad: Function\r\n  onError: Function\r\n  offError: Function\r\n  onResize: Function\r\n  destroy: Function\r\n  onClose: Function\r\n  offClose: Function\r\n  onShow: Function\r\n  offShow: Function\r\n}\r\n\r\n\r\nexport interface INativeAd {\r\n\r\n  load: Function\r\n  show: Function\r\n  hide: Function\r\n  offResize: Function\r\n  style: object\r\n  onLoad: Function\r\n  offLoad: Function\r\n  onError: Function\r\n  offError: Function\r\n  onResize: Function\r\n  destroy: Function\r\n  onClose: Function\r\n  offClose: Function\r\n  onShow: Function\r\n  offShow: Function\r\n  reportAdShow: Function\r\n  reportAdClick: Function\r\n}\r\n\r\n\r\n/**\r\n * 广告类基类\r\n */\r\n\r\nexport default class PlatformBase extends cc.Component {\r\n\r\n  protected _audioIDs: any = {};\r\n  protected _bgmaudioID: number;\r\n  protected _bgm: string;\r\n  protected _enabledBgm: boolean = true;\r\n  protected _enabledShock: boolean = true;\r\n  protected _enableMusic: boolean = true;\r\n  public platformName = 'H'\r\n  protected innerAudioContext;\r\n  public adTime: number = 0;\r\n  public shareCallback: Function;\r\n  public shareCallback1: Function;\r\n  constructor() {\r\n    super();\r\n    var sound = cc.sys.localStorage.getItem(\"escapesoundset\");\r\n    // var shock = cc.sys.localStorage.getItem('escapeshockset');\r\n    if (sound && sound.length > 0) {\r\n      sound = sound.split(\":\");\r\n      this.enabledBgm = sound[0] == \"1\";\r\n      this.enabledShock = sound[1] == \"1\";\r\n    }\r\n    // this.innerAudioContext = wx.createInnerAudioContext();\r\n  }\r\n\r\n  protected saveSetting() {\r\n    try {\r\n      cc.sys.localStorage.setItem(\"escapesoundset\", (this.enabledBgm ? 1 : 0) + \":\" + (this.enabledShock ? 1 : 0));\r\n      // cc.sys.localStorage.setItem(\"escapeshockset\",(this.enableMusic?1:0));\r\n    } catch (err) {\r\n\r\n    }\r\n  }\r\n\r\n\r\n  public setupDB() {\r\n\r\n  }\r\n\r\n  /**\r\n* 登录\r\n* @param callback  回调\r\n*/\r\n  public login(callback: (data: any) => void): void {\r\n\r\n  }\r\n  /**\r\n   * 分享\r\n   * @param callback 分享回调 返回是否成功\r\n   */\r\n  public Share(callback: (success: boolean) => void): void {\r\n\r\n  }\r\n  // /**\r\n  //  * 看广告\r\n  //  * @param callback 回调 返回是否成功\r\n  //  */\r\n  // public watchAd(callback: Function, errorVideo: Function): void {\r\n\r\n  // }\r\n  /**\r\n   * 广告优先于分享\r\n   * @param callback 回调 返回是否成功\r\n   */\r\n  public adShare(callback: (success: boolean) => void): void {\r\n\r\n  }\r\n\r\n  public showBannerad(id?: string) {\r\n    // MsgMgr.emit(MsgEnums.UPDATE_ICON, true)\r\n  }\r\n\r\n  public hideBanner() {\r\n    // MsgMgr.emit(MsgEnums.UPDATE_ICON, false)\r\n  }\r\n\r\n  public showBannerad1() {\r\n\r\n  }\r\n\r\n  public gameClubHiding() {\r\n\r\n  }\r\n\r\n  /**\r\n   * 检查是否关注抖音号\r\n   */\r\n  checkFollowAwemeState(callback: Function) {\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * 创建抖音桌面快捷方式\r\n   */\r\n  addShortcut() {\r\n\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * 播放背景音乐\r\n   */\r\n  public playBGM(url: string) {\r\n    this._bgm = url;\r\n    // console.log(\"playBGM\", url, this._bgmaudioID)\r\n    if (this._bgmaudioID != undefined) {\r\n      cc.audioEngine.stop(this._bgmaudioID);\r\n    }\r\n    cc.resources.load(\"sounds/\" + url, cc.AudioClip, function (err, clip) {\r\n      if (err || this._bgm != url) {\r\n        return;\r\n      }\r\n      if (this._enabledBgm) {\r\n        this._bgmaudioID = cc.audioEngine.play(clip, true, 1);\r\n      }\r\n    }.bind(this));\r\n  }\r\n\r\n  public set enabledBgm(value: boolean) {\r\n    this._enabledBgm = value;\r\n    this.saveSetting();\r\n    if (this._enabledBgm) {\r\n      this.playBGM(this._bgm)\r\n    } else {\r\n      if (this._bgmaudioID != undefined) {\r\n        cc.audioEngine.stop(this._bgmaudioID);\r\n      }\r\n      this._bgmaudioID = undefined;\r\n    }\r\n  }\r\n\r\n  public get enabledBgm(): boolean {\r\n    return this._enabledBgm;\r\n  }\r\n\r\n\r\n  public set enabledShock(value: boolean) {\r\n    this._enabledShock = value;\r\n    this.saveSetting();\r\n  }\r\n\r\n  public get enabledShock(): boolean {\r\n    return this._enabledShock;\r\n  }\r\n\r\n\r\n  public pause() {\r\n    if (this._bgmaudioID != undefined) {\r\n      cc.audioEngine.pause(this._bgmaudioID);\r\n    }\r\n  }\r\n\r\n  public debugOn() {\r\n\r\n  }\r\n\r\n  showCreateCustomAd() {\r\n  }\r\n\r\n  hideCreateCustomAd() {\r\n  }\r\n  /**\r\n   * 关注抖音号\r\n   */\r\n  public awemeUser() {\r\n\r\n  }\r\n\r\n  public LOAD_BANNER1() {\r\n\r\n  }\r\n  /**\r\n   * 游戏圈\r\n   */\r\n  GameClubButton() {\r\n\r\n  }\r\n  /**\r\n   * 跳转视频播放页\r\n   */\r\n  public navigateToVideoView(id) {\r\n\r\n  }\r\n\r\n  gameClubSHow() {\r\n\r\n  }\r\n\r\n  gameClubHide() {\r\n\r\n  }\r\n\r\n  public LOAD_BANNER2() {\r\n\r\n  }\r\n\r\n  public goto(appId: string, path: string, id: string, num: number, callback: () => void) {\r\n    // var names = {};\r\n    // let ss = id.name\r\n    // names['ss'] = 1\r\n    // console.log(names)\r\n  }\r\n\r\n  public subscribe(callback: () => void) {\r\n\r\n  }\r\n\r\n  public resume() {\r\n    if (this._bgmaudioID != undefined) {\r\n      cc.audioEngine.resume(this._bgmaudioID);\r\n    }\r\n  }\r\n\r\n\r\n  public ShowWechatAppBox() {\r\n\r\n  }\r\n\r\n\r\n  public SHOW_NATIVE_BANNER(loadImage: Function) {\r\n\r\n  }\r\n\r\n  public CLICK_NATIVE_INTER() {\r\n\r\n  }\r\n\r\n  public showInterstitialAd() {\r\n\r\n  }\r\n\r\n  public hideInterstitialAd() {\r\n\r\n  }\r\n\r\n  public CLICK_NATIVE_BANNER() {\r\n\r\n  }\r\n\r\n  public LOAD_BANNER() {\r\n\r\n  }\r\n\r\n  /**\r\n   * @param  callback 录屏回调 返回是否成功 \r\n  */\r\n  public shareViode(callback: (success: boolean) => void) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 开始录屏\r\n   */\r\n  public StartRecorder() {\r\n\r\n  }\r\n  /**\r\n   * 停止录屏\r\n   */\r\n  public stopRecorder() {\r\n\r\n  }\r\n  /**\r\n   * 安卓接口调用\r\n   */\r\n  public AndroidAPK(index?: string) {\r\n  }\r\n\r\n\r\n  /*******************************广告********************************** */\r\n\r\n\r\n  /**\r\n   * 创建banner\r\n   */\r\n  public CREATE_BANNER() {\r\n\r\n  }\r\n  /**\r\n    * 加载banner\r\n    */\r\n  public ONLOAD_BANNER() {\r\n\r\n  }\r\n  /**\r\n    * 展示banner\r\n    */\r\n  public SHOW_BANNER() {\r\n\r\n  }\r\n  /**\r\n    * 隐藏banner\r\n    */\r\n  public HIDE_BANNER() {\r\n\r\n  }\r\n  /**\r\n    * 销毁banner\r\n    */\r\n  public DESTROY_BANNER() {\r\n\r\n  }\r\n  /**\r\n    * 创建激励视频\r\n    */\r\n  public CREATE_VIDEO(uuId: string) {\r\n\r\n  }\r\n  /**\r\n   * 加载激励视频\r\n   */\r\n  public LOAD_VIDEO() {\r\n\r\n  }\r\n  /**\r\n   * 展示激励视频\r\n   */\r\n  public SHOW_VIDEO(index?: string) {\r\n\r\n  }\r\n  /**\r\n     * 看广告\r\n     * @param goodVideo 回调 返回成功\r\n     * @param errorVideo 回调 返回失败\r\n     * @param unLoadVideo 回调 无法加载视频\r\n  */\r\n  public CLOSE_VIDEO(goodVideo: Function, errorVideo?: Function, unLoadVideo?: Function, ID?: string) {\r\n\r\n  }\r\n  /**\r\n   * 销毁广告\r\n   */\r\n  public DESTROY_VIDEO() {\r\n\r\n  }\r\n  /**\r\n     * 创建插屏\r\n  */\r\n  public CREATE_TITIALAD(uuId: string) {\r\n\r\n  }\r\n  /**\r\n     * 加载插屏\r\n  */\r\n  public LOAD_TITIALAD() {\r\n\r\n  }\r\n  /**\r\n   * 展示插屏\r\n  */\r\n  public SHOW_TITIALAD() {\r\n\r\n  }\r\n\r\n  public SHOW_TITIALAD1() {\r\n\r\n  }\r\n\r\n  /**\r\n  * 关闭插屏\r\n  */\r\n  public CLOSE_TITIALAD() {\r\n\r\n  }\r\n\r\n  public SHOW_NATIVE_INTER(image: Function) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 展示原生\r\n   * @param loadImage \r\n   */\r\n  public SHOW_NATIVE(loadImage: Function) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 点击原生\r\n   */\r\n  public CLICK_NATIVE(adId: string) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 销毁原生\r\n   */\r\n  public DESTROY_NATIVE() {\r\n\r\n  }\r\n\r\n  /**\r\n  * 微信点击曝光\r\n  */\r\n  public reportUserBehaviorBranchAnalytics(uid, Type) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 友盟自定义事件上报\r\n   * @param type 事件id\r\n   * @param param 属性\r\n   */\r\n  public trackEvent(type: string, param?: object) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 手机短震动\r\n   */\r\n  public VibrateShort(type: string, success?: Function, fail?: Function, complete?: Function) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 手机长震动\r\n   */\r\n  public VibrateLong(success?: Function, fail?: Function, complete?: Function) {\r\n\r\n  }\r\n\r\n  /**\r\n   * 渠道名字\r\n   */\r\n  public PlatformName(): string {\r\n    return \"PlatformBase\"\r\n  }\r\n}"]}